!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}();var app=angular.module("iwantbetter",[]);app.controller("FormController",function(a,b){a.successPrompt=!1,a.submit=function(){var c={fullName:a.submission.fullName,address:a.submission.address,address2:a.submission.address2,email:a.submission.email};b({method:"POST",url:"sticker",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(c)}).success(function(){a.successPrompt=!0}).error(function(a){console.log("something went wrong : "+a.error)})},a.subscribe=function(){var c={fullName:a.submission.fullName,address:a.submission.address,address2:a.submission.address2,email:a.submission.email};b({method:"POST",url:"subscribe",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(c)}).success(function(){a.hideOverlay()}).error(function(){console.log("something went wrong")})},a.hideOverlay=function(){a.successPrompt=!1,a.submission={}}});var requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,Squares={init:function(){var a=this;a.gridContainerWidth=$(".grid-container").width(),a.largeHolderWidth=Math.floor(a.gridContainerWidth/3.001),a.larges(),a.squarify()},larges:function(){var a=this;$(".large-holder").each(function(){$(this).outerWidth(a.largeHolderWidth,!0)})},squarify:function(){$(".square").each(function(){$(this).height($(this).width())})}},ShareIcons={init:function(){var a=this;a.setHover()},setHover:function(){var a=this;$(".share-icon").hover(function(){a.shareAnimation($(this),"in")},function(){a.shareAnimation($(this),"out")})},shareAnimation:function(a,b){var c=a;if("in"==b){if("twitter"==c.attr("data-share-to"))var d=c.closest(".square").find(".share-fill-twitter");else if("pinterest"==c.attr("data-share-to"))var d=c.closest(".square").find(".share-fill-pinterest");d.stop().addClass("share-fill-enlarge")}else if("out"==b){if("twitter"==c.attr("data-share-to"))var d=c.closest(".square").find(".share-fill-twitter");else if("pinterest"==c.attr("data-share-to"))var d=c.closest(".square").find(".share-fill-pinterest");d.stop().removeClass("share-fill-enlarge")}}},Posters={init:function(){var a=this;$(".active").each(function(){a.setClickListener($(this))})},setClickListener:function(a){var b=this;a.click(function(){$(".grid-container").hasClass("shifted")?b.hide($(this)):b.show($(this))})},setBackground:function(a){if(a.attr("data-poster-path")){var b=a.attr("data-poster-path");a.attr("style","background-image:url("+b+")")}},show:function(){$(".grid-container").velocity({right:"90%"},1500,"easeOutExpo").addClass("shifted")},hide:function(){$(".grid-container").velocity({right:"0%"},1500,"easeOutExpo").removeClass("shifted")}},Svg={init:function(){var a=this;a.animate()},animate:function(){var a=$(".st2");a.each(function(){var a=$(this).get(0),b=a.getTotalLength();a.style.transition=a.style.WebkitTransition="none",a.style.strokeDasharray=b+" "+b,a.style.strokeDashoffset=b,a.getBoundingClientRect(),$(window).scroll(function(){parseInt(a.style.strokeDashoffset,10)>0&&(a.style.strokeDashoffset=b-$(window).scrollTop())})})}},Nav={init:function(){var a=this;a.listeners($(".hamburger"))},listeners:function(a){var b=this;a.click(function(){$(".container").hasClass("shifted")?b.hide():b.show()}),$(".container").scroll(function(){var a=$(window).height();$(this).scrollTop()>a?$(".patty").addClass("dark"):$(".patty").removeClass("dark")})},contrastCheck:function(){var a=$(window).height();console.log($(".container").scrollTop()),$(".container").scrollTop()>a?$(".patty").addClass("dark"):$(".patty").removeClass("dark")},show:function(){var a=this;$(".container").velocity({left:"220px"},600,"easeOutExpo").addClass("shifted"),$(".video-container").velocity({left:"220px"},600,"easeOutExpo").addClass("shifted"),$(".patty").addClass("dark"),a.morph("show")},hide:function(){var a=this;$(".container").velocity({left:"0px"},600,"easeOutExpo").removeClass("shifted"),$(".video-container").velocity({left:"0px"},600,"easeOutExpo").removeClass("shifted"),a.contrastCheck(),a.morph("hide")},morph:function(a){"show"==a?($(".patty:first-child").addClass("tilt-up"),$(".patty:nth-child(2)").hide(),$(".patty:last-child").addClass("tilt-down")):"hide"==a&&($(".patty:first-child").removeClass("tilt-up"),$(".patty:nth-child(2)").show(),$(".patty:last-child").removeClass("tilt-down"))}},Walkthrough={init:function(){var a=this;a.smartPause(),a.parallaxActivate()},video:document.getElementById("walkthrough-video"),smartPause:function(){var a=this,b=$(".hero").height();$(".container").scroll(function(){$(this).scrollTop()>b&&!a.video.paused?a.video.pause():$(this).scrollTop()<b&&a.video.paused&&a.video.play()})},parallax:function(){{var a=$(".hero").height(),b=$(".hero-content-container");parseInt(b.css("bottom"),10)}if($(".container").scrollTop()<a){var c=.5*$(".container").scrollTop();b.css("transform","translateY("+c+"px)")}requestAnimationFrame(Walkthrough.parallax)},parallaxActivate:function(){requestAnimationFrame(Walkthrough.parallax)}},Paragraphs={init:function(){var a=this;a.progressIndicator()},progressIndicator:function(){var a=$(".paragraph-section"),b=a.position(),c=a.height()-$(window).height()/2,d=$(".paragraphs-section-progress");$(".container").scroll(function(){var a=$(this).scrollTop(),e=(a-b.top/2)/c,f=Math.round(100*e.toFixed(2));if(0>f){var g=0;d.fadeOut("fast")}else if(f>100){var g=100;d.fadeOut("fast")}else{var g=f;d.fadeIn("fast")}$("#percentage").html(g)})}},Twitter={init:function(){var a=this;a.popup()},popup:function(){$(".share-to-twitter").click(function(){var a=$(this).attr("href");return window.open(a,"","height=500px, width=500px"),!1})}};$(document).ready(function(){Nav.init(),Walkthrough.init(),Paragraphs.init(),Twitter.init()}),$(window).resize(function(){});